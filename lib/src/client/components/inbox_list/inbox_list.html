<link rel="import" href="../../../../../../packages/polymer/polymer.html">
<link rel="import" href="../../../../../../packages/core_elements/core_item.html">
<link rel="import" href="../../../../../../packages/core_elements/core_icon.html">
<link rel="import" href="../../../../../../packages/core_elements/core_tooltip.html">
<link rel="import" href="../widgets/live_date_time/live_date_time.html">
<link rel="import" href="../widgets/uri_preview/uri_preview.html">
<link rel="import" href="../user_picture/user_picture.html">
<link rel="import" href="../item/item.html">
<polymer-element name="inbox-list">
  <template>
    <link rel="stylesheet" href="inbox_list.css">
    <div id="content-container" class="{{viewModel.typeFilter != null ? 'compact' : null}}">
      <template if="{{viewModel.typeFilter == 'event'}}">
        <template repeat="{{groupDate in viewModel.groupedItems.keys}}">
        <div class="date-group-header">{{groupDate}}</div>
        <template repeat="{{item in viewModel.groupedItems[groupDate]}}">
          <x-item item="{{item}}" app="{{app}}" viewModel="{{viewModel}}"></x-item>
        </template>
      </template>
    </template>
    <template if="{{viewModel.typeFilter != 'event'}}">
      <template repeat="{{item in viewModel.items}}">
        <x-item item="{{item}}" app="{{app}}" viewModel="{{viewModel}}"></x-item>
      </template>
    </template>
    <template if="{{viewModel.reachedEnd == false}}"><div id="loading-indicator">Fetching...</div></template>
    <template if="{{viewModel.reachedEnd == true}}"><div id="loading-indicator">You've reached the end of this universe.</div></template>
      <!--<template if="{{viewModel.count <= viewModel.pageSize}}"><div id="loading-indicator">You've reached the end of this universe.</div></template>-->
    </div>
  </template>
  <script type="application/dart" src="inbox_list.dart"></script>
</polymer-element>
