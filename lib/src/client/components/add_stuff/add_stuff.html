<link rel="import" href="../../../../../../packages/polymer/polymer.html">
<link rel="import" href="../../../../../../packages/core_elements/core_item.html">
<link rel="import" href="../../../../../../packages/core_elements/core_icon.html">
<link rel="import" href="../../../../../../packages/core_elements/core_icon_button.html">
<link rel="import" href="../../../../../../packages/core_elements/core_selector.html">
<link rel="import" href="../../../../../../packages/core_elements/core_toolbar.html">
<link rel="import" href="../../../../../../packages/core_elements/core_input.html">
<link rel="import" href="../../../../../../packages/core_elements/core_overlay.html">
<link rel="import" href="../widgets/dialog/dialog.html">

<polymer-element name="add-stuff">
  <template>
    <link rel="stylesheet" href="add_stuff.css">
    <x-dialog id="overlay" class="dialog" opened="{{opened}}">
      <core-toolbar center-justified>
        <core-icon-button icon="close" on-tap="{{toggleOverlay}}"></core-icon-button>
        <div flex horizontal center-justified layout>
          <div>Add Stuff</div>
        </div>
        <core-icon-button icon="send" on-tap="{{addItem}}" class="action"></core-icon-button>
      </core-toolbar>
      <div id="container">
        <div id="content-container">
          <core-selector id="content-type" target="{{$['types']}}" itemsSelector="li" valueattr="value"
                         selected="other"></core-selector>
          <ul id="types" class="list">
            <li value="announcement">Announcement</li>
            <li value="ask">Ask</li>
            <li value="offer">Offer</li>
            <li value="idea">Idea</li>
            <li value="event">Event</li>
            <li value="news">News</li>
            <li value="project">Project</li>
            <li value="other">Other</li>
          </ul>

          <div class="field-wrapper first">
              <core-input id="name" placeholder="Your name" autocomplete="off"
                          value="{{(app.user != null) ? app.user.username : ''}}"
                          disabled="{{(app.user != null) ? true : false}}"></core-input>
          </div>
          <div class="field-wrapper">
            <core-input id="subject" placeholder="Subject" autocomplete="off"
                        inputValue="{{theData['subject']}}"></core-input>
          </div>
          <template if="{{selectedType == 'event'}}">
            <div class="field-wrapper">
              <core-input id="event-start-date" placeholder="When is the event?" autocomplete="off"
                          inputValue="{{theData['event-start-date']}}" on-focus="{{updateInput}}"></core-input>
            </div>
            <div class="field-wrapper">
              <core-input id="event-start-time" placeholder="What time does it start?" autocomplete="off"
                          inputValue="{{theData['event-start-time']}}" on-focus="{{updateInput}}"></core-input>
            </div>
          </template>
          <template if="{{selectedType == 'event' || selectedType == 'news'}}">
            <div class="field-wrapper">
              <core-input id="url" placeholder="Link to the {{selectedType}}" autocomplete="off"
                          inputValue="{{theData['url']}}"></core-input>
            </div>
          </template>
          <div class="field-wrapper full-height">
            <core-input class="expand" id="body" multiline rows="fit" required placeholder="Sharing is caring..." autocomplete="off"
                        inputValue="{{theData['body']}}"></core-input>
          </div>
        </div>
      </div>
    </x-dialog>
  </template>
  <script type="application/dart" src="add_stuff.dart"></script>
</polymer-element>
