<link rel="import" href="../../../../../../packages/polymer/polymer.html">
<link rel="import" href="../widgets/live_date_time/live_date_time.html">
<link rel="import" href="../../../../../../packages/core_elements/core_icon.html">
<polymer-element name="item-view">
  <template>
    <link rel="stylesheet" href="item_view.css">
      <!--<template if="{{app.selectedItem != null}}">-->
        <div class="item-card">
          <div class="content">
            <div class="item-type">{{ (item['type'] != null) ? item['type'] : 'other'}}</div>
            <div>
              <h1>{{item['subject']}}</h1>
            </div>
            <div>
              <template if="{{app.selectedItem != null}}">
                <div class="item-updated">
                  <live-date-time value="{{item['createdDate']}}" formatter="{{formatItemDate}}"></live-date-time>
                  by
                </div>
                <div class="item-users">{{ item['user'] }}</div>
              </template>
            </div>
            <div>
              <p id="body">Loading...</p>
            </div>
          </div>
          <div id="action-footer">
            <div class="item-col1" horizontal layout>
              <core-icon icon="{{app.user != null && item['liked'] == true ? 'favorite' : 'favorite-outline'}}"
                         id="icon-fav" on-click="{{toggleLike}}"
                         class="{{app.user != null && item['liked'] == true ? 'selected' : ''}}"
                         data-id="{{item['id']}}"></core-icon>
              <span class="item-count">{{item['like_count']}}</span>
              <core-icon icon="{{app.user != null && item['starred'] == true ? 'star' : 'star-outline'}}"
                         id="icon-star" on-click="{{toggleStar}}"
                         class="{{app.user != null && item['starred'] == true ? 'selected' : ''}}"
                         data-id="{{ item['id'] }}"></core-icon>
              <span class="item-count">{{item['star_count']}}</span>
            </div>
          </div>
        </div>
      <!--</template>-->
  </template>
  <script type="application/dart" src="item_view.dart"></script>
</polymer-element>
