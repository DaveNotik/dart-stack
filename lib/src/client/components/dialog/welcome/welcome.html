<link rel="import" href="../../../../../../../packages/polymer/polymer.html">
<link rel="import" href="../../../../../../../packages/core_elements/core_item.html">
<link rel="import" href="../../../../../../../packages/core_elements/core_icon.html">
<link rel="import" href="../../../../../../../packages/core_elements/core_icon_button.html">
<link rel="import" href="../../../../../../../packages/core_elements/core_selector.html">
<link rel="import" href="../../../../../../../packages/core_elements/core_toolbar.html">
<link rel="import" href="../../../../../../../packages/core_elements/core_input.html">
<link rel="import" href="../../../../../../../packages/core_elements/core_a11y_keys.html">
<link rel="import" href="../../widgets/dialog/dialog.html">
<polymer-element name="welcome-dialog">
  <template>
    <!--<link rel="stylesheet" href="welcome.css">-->
    <!--<core-icon-button id="add-button" icon="create" on-tap="{{toggleOverlay}}"></core-icon-button>-->

    <x-dialog id="welcome-overlay" class="dialog" opened="{{opened}}" autoclosedisabled="true">
      <core-toolbar center-justified>
        <core-icon-button icon="close" on-tap="{{close}}"></core-icon-button>
        <div flex horizontal center-justified layout>
          <template if="{{(app.user != null && !app.user.disabled)}}">
            <div>Update your account</div>
          </template>
          <template if="{{(app.user != null && app.user.disabled)}}">
            <div>Create your account</div>
          </template>
          <template if="{{(app.user == null)}}">
            <div>Create new account</div>
          </template>
        </div>
        <core-icon-button icon="done" on-tap="{{submit}}" class="action"></core-icon-button>
      </core-toolbar>
      <div id="container">
        <div id="content-container">
          <template if="{{(app.user != null && !app.user.disabled)}}">
            <p>We noticed you never chose a password.</p>
            <p>Please choose one now, and I'll get out of your way.</p>
          </template>
          <template if="{{(app.user != null && app.user.disabled && app.user.password == null)}}">
            <p>Almost there! Please create your personal account.</p>
          </template>
          <template if="{{(app.user == null)}}">
            <p>Please create your personal account.</p>
          </template>

          <!--<core-selector id="content-type" target="{{$['list']}}" itemsSelector="li" valueattr="value" selected="other"></core-selector>-->
          <!--<ul id="list" class="list">-->
            <!--<li value="announcement">Announcement</li>-->
            <!--<li value="ask">Ask</li>-->
            <!--<li value="offer">Offer</li>-->
            <!--<li value="idea">Idea</li>-->
            <!--<li value="event">Event</li>-->
            <!--<li value="project">Project</li>-->
            <!--<li value="other">Other</li>-->
          <!--</ul>-->
          <div class="field-wrapper first">
            <input is="core-input" id="email" placeholder="Your email"
                   autocomplete="off" autocorrect="off" autocapitalize="off"
                   value="{{(app.user != null) ? app.user.email : ''}}" autofocus>
          </div>
          <div class="field-wrapper">
            <input is="core-input" id="username" placeholder="Choose a username"
                   autocomplete="off" autocorrect="off" autocapitalize="off"
                   value="{{(app.user != null && !app.user.disabled) ? app.user.username : ''}}">
          </div>
          <div class="field-wrapper">
            <input is="core-input" id="password" placeholder="Choose a password"
                   autocomplete="off" autocorrect="off" autocapitalize="off" type="password">
          </div>
          <div class="field-wrapper">
            <input is="core-input" id="firstname" placeholder="Your first name" autocomplete="off"
                   value="{{(app.user != null) ? app.user.firstName : ''}}">
          </div>
          <div class="field-wrapper">
            <input is="core-input" id="lastname" placeholder="Your last name" autocomplete="off"
                   value="{{(app.user != null) ? app.user.lastName : ''}}">
          </div>
          <!--<div class="field-wrapper">-->
            <!--<input is="core-input" id="location" placeholder="Your hometown" autocomplete="off"-->
                   <!--value="{{(app.user != null) ? app.user.location : ''}}">-->
          <!--</div>-->
        </div>
      </div>
      <core-a11y-keys id="a11y-send" keys="enter" on-keys-pressed="{{submit}}"></core-a11y-keys>
    </x-dialog>
  </template>
  <script type="application/dart" src="welcome.dart"></script>
</polymer-element>
