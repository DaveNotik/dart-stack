<polymer-element name="chat-box">
  <template>
    <link rel="stylesheet" href="chat_box.css">
    <div id="post-container" layout horizontal class="{{(app.user.settings['theme'] == 'dark') ? 'theme-dark' : ''}}">
        <template if="{{app.user != null}}">
          <!--<div class="user-area">-->
            <!--<user-picture app="{{app}}" username="{{app.user.username.toLowerCase()}}"></user-picture>-->
          <!--</div>-->
          <div id="message-box" class="field-wrapper full-height" flex>
            <paper-autogrow-textarea
                maxRows="7"
                id="comment"
                autocomplete="off">
              <textarea id="comment-textarea" placeholder="Say something..." type="submit"
                        on-focus="{{onFocusHandler}}"
                        on-blur="{{onBlurHandler}}"></textarea>
            </paper-autogrow-textarea>
          </div>
          <template if="{{app.isMobile}}"><core-icon-button id="button-send" class="btn action" icon="send" on-tap="{{addComment}}" tabindex="0"></core-icon-button></template>
          <core-a11y-keys id="a11y-send" keys="enter ctrl+enter" on-keys-pressed="{{addComment}}"></core-a11y-keys>
        </template>
        <template if="{{app.user == null}}">
          <div class="message" self-center flex><template if="{{!app.isMobile}}">Please sign in to participate.</template></div>
          <button class="button-sign-in" self-center on-tap="{{toggleSignIn}}">Sign in</button>
        </template>
    </div>
  </template>
</polymer-element>
